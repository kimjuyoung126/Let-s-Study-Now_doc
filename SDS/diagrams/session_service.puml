@startuml Session_Service_Diagram

skinparam classAttributeIconSize 0
skinparam linetype ortho
skinparam backgroundColor #FFFFFF
skinparam class {
    BackgroundColor #FFFFFF
    BorderColor #000000
    ArrowColor #000000
}

class StudySessionService {
    -StudySessionRepository studySessionRepository
    -MemberRepository memberRepository
    -LevelUpService levelUpService
    -PersonalTimerRepository personalTimerRepository
    --
    +startStudySession(Long, String, Long) : StudySession
    +endStudySession(Long) : SessionEndResultDto
    +getActiveSession(Long) : StudySession
}

class LevelUpService {
    -MemberRepository memberRepository
    --
    +getRequiredMinutesForLevel(int) : int
    -calculateTotalExpForLevel(int) : int
    +addStudyTimeAndCheckLevelUp(Long, int) : boolean
    +getLevelInfo(Long) : LevelInfoDto
}

class StudySessionRepository {
}

class MemberRepository {
}

class PersonalTimerRepository {
}

StudySessionService --> StudySessionRepository
StudySessionService --> MemberRepository
StudySessionService --> LevelUpService
StudySessionService --> PersonalTimerRepository
LevelUpService --> MemberRepository

@enduml
